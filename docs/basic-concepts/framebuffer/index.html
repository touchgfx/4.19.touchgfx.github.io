<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.19/opensearch.xml">
<script src="/4.19/js/fix-location.js"></script><title data-react-helmet="true">Framebuffer | TouchGFX Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://support.touchgfx.com/4.19/img/meta-image.png"><meta data-react-helmet="true" name="twitter:image" content="https://support.touchgfx.com/4.19/img/meta-image.png"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/4.19/docs/basic-concepts/framebuffer"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Framebuffer | TouchGFX Documentation"><meta data-react-helmet="true" name="description" content="A framebuffer is a piece of memory that is updated by the graphics engine to"><meta data-react-helmet="true" property="og:description" content="A framebuffer is a piece of memory that is updated by the graphics engine to"><link data-react-helmet="true" rel="shortcut icon" href="/4.19/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://support.touchgfx.com/4.19/docs/basic-concepts/framebuffer"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/docs/basic-concepts/framebuffer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/ko/docs/basic-concepts/framebuffer" hreflang="ko"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/ja/docs/basic-concepts/framebuffer" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/zh-CN/docs/basic-concepts/framebuffer" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/zh-TW/docs/basic-concepts/framebuffer" hreflang="zh-TW"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.19/docs/basic-concepts/framebuffer" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/4.19/assets/css/styles.321a00f7.css">
<link rel="preload" href="/4.19/assets/js/runtime~main.24b1bc56.js" as="script">
<link rel="preload" href="/4.19/assets/js/main.9ec6f18a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.19/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.19/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/4.19/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--dark_hz6m"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link"><span><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/4.19/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/4.19/ko/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">한국어</a></li><li><a href="/4.19/ja/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">日本語</a></li><li><a href="/4.19/zh-CN/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">简体中文</a></li><li><a href="/4.19/zh-TW/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/4.19/docs/introduction/welcome">4.19</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.19/docs/basic-concepts/framebuffer">4.19</a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_1ZXk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Basic Concepts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/embedded-graphics">Embedded Graphics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/color-formats">Color Formats</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.19/docs/basic-concepts/framebuffer">Framebuffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/graphics-engine">Graphics Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/rendering">Main Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/performance">Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/operating-system">Operating Systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.19/docs/basic-concepts/memory-usage">Memory Usage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Miscellaneous</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Resources</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Framebuffer</h1></header><p>A framebuffer is a piece of memory that is updated by the graphics engine to
contain the next image to be shown on the display.</p><p>The framebuffer is a contiguous part of RAM of a given size.</p><div class="figure noshadow"><a href="/4.19/img/basic-concepts/framebuffer-contiguous-memory.svg" target="_blank"><img src="/4.19/img/basic-concepts/framebuffer-contiguous-memory.svg"></a><p>Framebuffer memory</p></div><p>A framebuffer has an associated width and height.
Therefore we typically think of a framebuffer as being a two dimensional part of memory, indexable
by x, y coordinates.</p><div class="figure noshadow"><a href="/4.19/img/basic-concepts/framebuffer-2d-memory.svg" target="_blank"><img src="/4.19/img/basic-concepts/framebuffer-2d-memory.svg"></a><p>2D framebuffer memory</p></div><p>A framebuffer has an associated color format.
Each entry in the framebuffer will be a color in this color format.
We will refer to each such entry in the framebuffer as a pixel.</p><p>We can update the color of a pixel at position x,y in the framebuffer by calculating the memory address
of the pixel within the framebuffer and updating the stored color.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newColor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Similarly we can obtain the color of a pixel in the framebuffer and use this in calculations. For instance darkening the color
of a pixel in the framebuffer (assuming we have a <code>darken</code> function available).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">darken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Often the framebuffer memory is not written and read pixel by pixel as above, but by utilizing the underlying hardware capabilities of the system, e.g. the Chrom-ART DMA.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="colors">Colors<a aria-hidden="true" class="hash-link" href="#colors" title="Direct link to heading">​</a></h2><p>In TouchGFX the pixel color format of a framebuffer can be either:</p><ul><li><strong>Grayscale</strong> 1, 2 or 4 bits per pixel (bpp) grayscale, or</li><li><strong>High or true color</strong> 16, 24 or 32 bpp color</li></ul><p>The more bits per pixels used the more distinct colors can be represented by the framebuffer, moreover the more bits per pixels used the more memory will be consumed by the framebuffer.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="display">Display<a aria-hidden="true" class="hash-link" href="#display" title="Direct link to heading">​</a></h2><p>The contents of the framebuffer is what is ultimately transferred to and seen on the physical display.
Therefore it is very common to have the same pixel width and height of the framebuffer and the display.</p><div class="figure noshadow"><a href="/4.19/img/basic-concepts/display-and-framebuffer.svg" target="_blank"><img src="/4.19/img/basic-concepts/display-and-framebuffer.svg"></a><p>24 bpp framebuffer contents and resulting display</p></div><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">See the section on <a href="/4.19/docs/development/hardware-selection/hardware-components/hardware-selection-display">display technologies</a> to learn more on different display types.</div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="location-of-framebuffer">Location of framebuffer<a aria-hidden="true" class="hash-link" href="#location-of-framebuffer" title="Direct link to heading">​</a></h2><p>One oversimplified view of a microcontroller based graphics system is here.</p><div class="figure noshadow"><a href="/4.19/img/basic-concepts/simplified-graphics-system.png" target="_blank"><img width="400" src="/4.19/img/basic-concepts/simplified-graphics-system.png"></a><p>Oversimplified view of graphics system</p></div><p>A framebuffer can be placed either internally in the MCU or in external RAM.</p><div class="figure noshadow"><a href="/4.19/img/basic-concepts/framebuffer-placement.png" target="_blank"><img width="600" src="/4.19/img/basic-concepts/framebuffer-placement.png"></a><p>Possible locations of framebuffer</p></div><p>Each possible location has potential benefits and drawbacks.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="internal-ram">Internal RAM<a aria-hidden="true" class="hash-link" href="#internal-ram" title="Direct link to heading">​</a></h3><p>Placing the framebuffer in RAM internal to the MCU makes the read and write access to the framebuffer
as fast as possible. This means that your TouchGFX application will run as smooth as possible.
Conversely, internal RAM is a very scarce resource and one that is used by many
parts of a system, therefore occupying a large part of this with a framebuffer might be infeasible.</p><p>If feasible, having a framebuffer in internal RAM, could reduce the overall cost of the system as
no additional RAM is needed.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="external-ram">External RAM<a aria-hidden="true" class="hash-link" href="#external-ram" title="Direct link to heading">​</a></h3><p>If the system has external RAM, placing the framebuffer here is an alternative to placing it in internal RAM.
The read and write access to external RAM will typically be slower than to the internal RAM,
but the amount of external RAM will typically be much larger. Therefore this is sometimes the only viable solution.</p><p>The MCU might have capabilities, like caching, that makes access to external RAM faster.
See the section on <a href="/4.19/docs/development/hardware-selection/hardware-components/hardware-selection-mcu">MCU</a> for details.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="display-with-embedded-ram">Display with embedded RAM<a aria-hidden="true" class="hash-link" href="#display-with-embedded-ram" title="Direct link to heading">​</a></h3><p>Depending on the type of display in the system there might be memory embedded on the display.
This memory holds the contents of the &quot;physical&quot; pixels of the display.
Having this pixel memory in the display implies that the MCU can be idle while the display is still alive.</p><p>Placing a TouchGFX framebuffer in the RAM of the display is not possible, as the memory of the display is not memory mapped and is not intended nor suitable for random pixel reads or writes.
Instead TouchGFX places the framebuffer in internal or external RAM and transfers this to the display RAM when appropriate.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="amount-of-framebuffers">Amount of framebuffers<a aria-hidden="true" class="hash-link" href="#amount-of-framebuffers" title="Direct link to heading">​</a></h2><p>TouchGFX can use one, multiple, or less than one framebuffer in the application.
The amount of framebuffers might impact the visual appearance, performance and memory consumption of the application.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="one-framebuffer">One framebuffer<a aria-hidden="true" class="hash-link" href="#one-framebuffer" title="Direct link to heading">​</a></h3><p>One framebuffer is enough to hold precisely all pixels that are to be transferred to the display.
One framebuffer (at least) is needed when the display has no display RAM on board.
In this case one framebuffer is ideal when the complexity of the displayed graphics does not induce any visual artifacts.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="more-than-one-framebuffer">More than one framebuffer<a aria-hidden="true" class="hash-link" href="#more-than-one-framebuffer" title="Direct link to heading">​</a></h3><p>In TouchGFX, having multiple framebuffers means having two framebuffers. One framebuffer is used for writing the next resulting image, the other framebuffer is used for transferring to the display.
This implies that no visual artifacts, e.g. tearing, will appear.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="less-than-one-framebuffer">Less than one framebuffer<a aria-hidden="true" class="hash-link" href="#less-than-one-framebuffer" title="Direct link to heading">​</a></h3><p>Having less than one framebuffer in general implies that</p><ul><li>less memory is consumed</li><li>more drawing operations will be performed</li><li>more transfers to display needed</li></ul><p>In TouchGFX less than one framebuffer is denoted a partial framebuffer. The partial framebuffer scheme is available only for displays with display RAM.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="memory-consumption">Memory consumption<a aria-hidden="true" class="hash-link" href="#memory-consumption" title="Direct link to heading">​</a></h2><p>The amount of colors and the number of pixels in the framebuffer determines the memory consumed by the framebuffer.</p><p>In general the amount of memory used by a framebuffer is
<strong> width <!-- -->*<!-- --> height <!-- -->*<!-- --> color depth in bits / 8 </strong> bytes.</p><table><thead><tr><th align="right">Resolution (pixels)</th><th align="right">Colors (bpp)</th><th align="right">Calculation</th><th align="right">Memory consumed (byte)</th></tr></thead><tbody><tr><td align="right">800x480</td><td align="right">16 bpp</td><td align="right">800 <!-- -->*<!-- --> 480 <!-- -->*<!-- --> 16 / 8</td><td align="right">768.000 B</td></tr><tr><td align="right">480x272</td><td align="right">24 bpp</td><td align="right">480 <!-- -->*<!-- --> 272 <!-- -->*<!-- --> 24 / 8</td><td align="right">391.680 B</td></tr><tr><td align="right">100x100</td><td align="right">8 bpp</td><td align="right">100 <!-- -->*<!-- --> 100 <!-- -->*<!-- -->  8 / 8</td><td align="right">10.000 B</td></tr></tbody></table><p>When having more than one framebuffer the amount of memory consumed will be correspondingly larger. For example when having a double buffering scheme, using two framebuffers, will consume twice the amount of memory.</p><p>When having less than one framebuffer the amount of memory is explicitly allocated and controlled by the application. The memory consumption is therefore completely customizable, but be warned that using too little will harm the overall graphics performance.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><li>The STM32 <a href="https://www.st.com/content/ccc/resource/technical/document/application_note/group0/25/ca/f9/b4/ae/fc/4e/1e/DM00287603/files/DM00287603.pdf/jcr:content/translations/en.DM00287603.pdf" target="_blank" rel="noopener noreferrer">LTDC</a> display controller document has further details on framebuffers</li></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/4.19/docs/basic-concepts/color-formats"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Color Formats</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/4.19/docs/basic-concepts/graphics-engine"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Graphics Engine<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#colors" class="table-of-contents__link toc-highlight">Colors</a></li><li><a href="#display" class="table-of-contents__link toc-highlight">Display</a></li><li><a href="#location-of-framebuffer" class="table-of-contents__link toc-highlight">Location of framebuffer</a><ul><li><a href="#internal-ram" class="table-of-contents__link toc-highlight">Internal RAM</a></li><li><a href="#external-ram" class="table-of-contents__link toc-highlight">External RAM</a></li><li><a href="#display-with-embedded-ram" class="table-of-contents__link toc-highlight">Display with embedded RAM</a></li></ul></li><li><a href="#amount-of-framebuffers" class="table-of-contents__link toc-highlight">Amount of framebuffers</a><ul><li><a href="#one-framebuffer" class="table-of-contents__link toc-highlight">One framebuffer</a></li><li><a href="#more-than-one-framebuffer" class="table-of-contents__link toc-highlight">More than one framebuffer</a></li><li><a href="#less-than-one-framebuffer" class="table-of-contents__link toc-highlight">Less than one framebuffer</a></li></ul></li><li><a href="#memory-consumption" class="table-of-contents__link toc-highlight">Memory consumption</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2021 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">Terms of use</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">Privacy Policy</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie Policy</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">Exercise your rights</a></div></div></div></footer></div>
<script src="/4.19/assets/js/runtime~main.24b1bc56.js"></script>
<script src="/4.19/assets/js/main.9ec6f18a.js"></script>
</body>
</html>