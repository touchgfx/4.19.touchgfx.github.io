"use strict";(self.webpackChunktouchgfx_documentation=self.webpackChunktouchgfx_documentation||[]).push([[5719],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(n),h=i,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||r;return n?a.createElement(m,l(l({ref:t},p),{},{components:n})):a.createElement(m,l({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},70814:function(e,t,n){var a=n(67294),i=n(88678);const r=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}));class l extends a.Component{render(){return a.createElement(i.Z,{color:"var(--highlight-color-caution)",header:"Caution",type:"caution",icon:r},this.props.children)}}t.Z=l},22425:function(e,t,n){var a=n(67294);class i extends a.Component{render(){return a.createElement("div",{className:"code-header"},a.createElement("div",null,a.createElement("h5",null,this.props.children)))}}t.Z=i},44035:function(e,t,n){var a=n(67294),i=n(25026);t.Z=function(e){const t=e.noShadow||!1,n=e.width,r=e.height,l=(0,i.Z)(e.imageSource);return t?a.createElement("div",{className:"figure noshadow"},a.createElement("a",{href:l,target:"_blank"},a.createElement("img",{width:n,height:r,src:l})),a.createElement("p",null,e.children)):a.createElement("div",{className:"figure"},a.createElement("a",{href:l,target:"_blank"},a.createElement("img",{width:n,height:r,src:l})),a.createElement("p",null,e.children))}},88678:function(e,t,n){var a=n(67294);class i extends a.Component{render(){const e=`highlight highlight-${this.props.type}`;return a.createElement("div",{className:e},a.createElement("div",{className:"highlight-heading"},a.createElement("h5",null,a.createElement("div",{className:"highlight-icon"},this.props.icon),this.props.header)),a.createElement("div",{className:"highlight-content"},this.props.children))}}t.Z=i},93054:function(e,t,n){var a=n(67294),i=n(88678);const r=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}));class l extends a.Component{render(){return a.createElement(i.Z,{color:"var(--highlight-color-note)",header:"Note",type:"note",icon:r},this.props.children)}}t.Z=l},6461:function(e,t,n){n.r(t),n.d(t,{assets:function(){return x},contentTitle:function(){return k},default:function(){return w},frontMatter:function(){return f},metadata:function(){return v},toc:function(){return b}});var a=n(3905),i=n(70814),r=n(22425),l=n(44035),o=n(93054),s=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(c)for(var n of c(t))h.call(t,n)&&m(e,n,t[n]);return e};const f={id:"known-issues",title:"\u5df2\u77e5\u95ee\u9898"},k=void 0,v={unversionedId:"miscellaneous/known-issues",id:"miscellaneous/known-issues",title:"\u5df2\u77e5\u95ee\u9898",description:"",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/miscellaneous/known-issues.mdx",sourceDirName:"miscellaneous",slug:"/miscellaneous/known-issues",permalink:"/4.19/zh-CN/docs/miscellaneous/known-issues",tags:[],version:"current",frontMatter:{id:"known-issues",title:"\u5df2\u77e5\u95ee\u9898"},sidebar:"docs",previous:{title:"\u83b7\u53d6\u5e2e\u52a9",permalink:"/4.19/zh-CN/docs/miscellaneous/getting-help"},next:{title:"\u4fee\u8ba2\u65e5\u5fd7",permalink:"/4.19/zh-CN/docs/miscellaneous/changelog"}},x={},b=[{value:"TouchGFX 4.19.0",id:"touchgfx-4-19-0",level:2},{value:"New way of working with typographies",id:"new-way-of-working-with-typographies",level:3},{value:"Example: Auto generated font ids",id:"example-auto-generated-font-ids",level:4},{value:"Auto generated typographies when upgrading to 4.19.0",id:"auto-generated-typographies-when-upgrading-to-4190",level:4},{value:"Referencing font ids in user code",id:"referencing-font-ids-in-user-code",level:4},{value:"Using LibJPEG with ARMCLANG",id:"using-libjpeg-with-armclang",level:3},{value:"MJPEG Video on H750B Discovery",id:"mjpeg-video-on-h750b-discovery",level:3},{value:"ThreadX assembler files",id:"threadx-assembler-files",level:3},{value:"TouchGFX 4.18.0",id:"touchgfx-4-18-0",level:2},{value:"CubeMX 6.1.0\u548cCubeProgrammer 2.6\u7684\u95ee\u9898",id:"issues-with-cubemx-610-and-cubeprogrammer-26",level:3},{value:"New .touchgfx format",id:"new-touchgfx-format",level:3},{value:"Default values are not written to .touchgfx",id:"default-values-are-not-written-to-touchgfx",level:4},{value:"Removed TextEntries block",id:"removed-textentries-block",level:4},{value:"LCD16bpp::fillRect and LCD16bpp::drawGlyph",id:"lcd16bpp-fillrect-and-lcd16bpp-drawglyph",level:3},{value:"Makefile and xlsx",id:"makefile-and-xlsx",level:3},{value:"Font size limit in texts.xsd",id:"font-size-limit-in-textsxsd",level:3},{value:"SDL2 linker error on Linux",id:"sdl2-linker-error-on-linux",level:3},{value:"TouchGFX 4.17.0",id:"touchgfx-4-17-0",level:2},{value:"\u7ed8\u56fe\u5de5\u5177\u4e0d\u518d\u652f\u6301setAlpha()",id:"painters-no-longer-support-setalpha",level:3},{value:"\u4f7f\u7528HAL\u7c7b",id:"using-the-hal-class",level:3},{value:"TouchGFX Generator\u4e2d\u7684FMC\u663e\u793a\u63a5\u53e3",id:"fmc-display-interface-in-touchgfx-generator",level:3},{value:"16-24\u621632bpp\u914d\u7f6e\u7684L8\u56fe\u50cf",id:"l8-images-in-16-24-or-32bpp-configurations",level:3},{value:"TouchGFX 4.15.0",id:"touchgfx-4150",level:2},{value:"\u652f\u6301\u7684MCU",id:"mcu-support",level:3},{value:"TouchGFX 4.14.0",id:"touchgfx-4140",level:2},{value:"ARMCLANG\u652f\u6301",id:"armclang-support",level:3},{value:"\u5de5\u4f5c\u6d41\u7a0b",id:"workflow",level:4},{value:"TouchGFX 4.13.0",id:"touchgfx-4130",level:2},{value:"\u9519\u8bef",id:"bugs",level:3},{value:"\u5b57\u4f53\u8f6c\u6362\u5668",id:"font-converter",level:4},{value:"\u989d\u5916\u7f16\u8bd1\u5668\u652f\u6301",id:"additional-compiler-support",level:3},{value:"\u5411\u540e\u517c\u5bb9",id:"backwards-compatibility",level:3},{value:"\u5df2\u5f03\u7528\u7684\u529f\u80fd",id:"deprecated-features",level:4},{value:"\u9ed8\u8ba4\u7981\u7528TextureMapper",id:"texturemapper-is-disabled-by-default",level:4},{value:"\u4e0d\u517c\u5bb9HAL SDL1",id:"hal-sdl1-incompatible",level:4},{value:"TouchGFX 4.12.3",id:"touchgfx-4123",level:2},{value:"\u5411\u540e\u517c\u5bb9",id:"backwards-compatibility-1",level:3},{value:"\u5c4f\u5e55\u5207\u6362",id:"screen-transitions",level:4},{value:"\u4e8c\u8fdb\u5236\u5b57\u4f53",id:"binary-fonts",level:4},{value:"TouchGFX 4.11.0",id:"touchgfx-4110",level:2},{value:"\u5411\u540e\u517c\u5bb9",id:"backwards-compatibility-2",level:3},{value:"TouchGFX 4.10.0",id:"touchgfx-4100",level:2},{value:"\u4ece4.9.x\u5347\u7ea7",id:"upgrading-from-49x",level:3},{value:"\u5411\u540e\u517c\u5bb9",id:"backwards-compatibility-3",level:3},{value:"\u5de5\u7a0b\u66f4\u65b0\u5668\u7684\u95ee\u9898",id:"project-updater-issue",level:3},{value:"TextArea\u548cChromART\uff08DMA2D\uff09",id:"textarea-and-chromart-dma2d",level:3},{value:"TouchGFX 4.9.0",id:"touchgfx-490",level:2},{value:"\u4ece4.8.0\u5347\u7ea7",id:"upgrading-from-480",level:3},{value:"\u65b9\u6cd51\uff1a\u4fdd\u7559\u539f\u59cb\u6587\u4ef6\u7ed3\u6784",id:"method-1-retain-original-file-structure",level:3},{value:"\u65b9\u6cd52\uff1a\u5bfc\u5165\u5230\u65b0\u7684\u6a21\u677f",id:"method-2-import-into-new-template",level:3},{value:"\u65b9\u6cd53\uff1a\u624b\u5de5\u5347\u7ea7\uff08\u65e0TouchGFX Designer\uff09",id:"method-3-manual-upgrade-without-designer",level:3}],C={toc:b};function w(e){var t,n=e,{components:s}=n,m=((e,t)=>{var n={};for(var a in e)d.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&c)for(var a of c(e))t.indexOf(a)<0&&h.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=g(g({},C),m),u(t,p({components:s,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,"\u672c\u6587\u5217\u51fa\u4e86\u6240\u6709TouchGFX\u7248\u672c\u4e2d\u5df2\u77e5\u5b58\u5728\u7684\u95ee\u9898\u4ee5\u53ca\u6f5c\u5728\u7684\u6743\u5b9c\u63aa\u65bd\u3002 \u6b64\u5916\uff0c\u5982\u679c\u60a8\u9700\u8981\u6267\u884c\u4efb\u4f55\u7279\u5b9a\u7684\u5347\u7ea7\u6b65\u9aa4\u624d\u80fd\u5c06TouchGFX\u5347\u7ea7\u81f3\u7279\u5b9a\u7248\u672c\uff0c\u6587\u4e2d\u5c06\u4f1a\u63d0\u5230\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5f53\u524d\u7248\u672c\u4e0e\u6700\u65b0\u7248\u672c\u4e4b\u95f4\u9694\u4e86\u51e0\u4e2a\u7248\u672c\uff0c\u60a8\u9700\u8981\u6267\u884c\u6240\u6709\u7248\u672c\u7684\u5347\u7ea7\u6b65\u9aa4\uff0c\u76f4\u81f3\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u3002"),(0,a.kt)("h2",g({},{id:"touchgfx-4-19-0"}),"TouchGFX 4.19.0"),(0,a.kt)("h3",g({},{id:"new-way-of-working-with-typographies"}),"New way of working with typographies"),(0,a.kt)("p",null,"From TouchGFX 4.18.1 to TouchGFX 4.19.0 the use of typographies has changed. A typography now has a default setting and zero or more language specific settings."),(0,a.kt)("p",null,"Read more about this in the ",(0,a.kt)("a",g({parentName:"p"},{href:"/4.19/zh-CN/docs/development/ui-development/designer-user-guide/texts-view"}),"Designer Guide")),(0,a.kt)("p",null,"Text specific direction and typography is no longer an option, these options are moved to the new default and language specific settings. This new functionality affects the generated code in projects that used this feature. The Text Converter will generate a font id for the default setting and one for each language specific setting. A font id generated from a language specific setting will be named automatically, see example below."),(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/text-specific-direction.png",mdxType:"Figure"},"Setting direction and typography for a specific text in TouchGFX 4.18"),(0,a.kt)("h4",g({},{id:"example-auto-generated-font-ids"}),"Example: Auto generated font ids"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Default typography id: HEADLINE"),(0,a.kt)("li",{parentName:"ul"},"Language specific setting: JPN")),(0,a.kt)("p",null,"This will generate two font ids in ",(0,a.kt)("inlineCode",{parentName:"p"},"generated/fonts/include/fonts/ApplicationFontProvider.hpp"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"struct TypographyFontIndex\n{\n    static const touchgfx::FontId HEADLINE = 0;\n    static const touchgfx::FontId HEADLINE_AUTO_GENERATED_FOR_JPN = 1;\n};\n")),(0,a.kt)("h4",g({},{id:"auto-generated-typographies-when-upgrading-to-4190"}),"Auto generated typographies when upgrading to 4.19.0"),(0,a.kt)("p",null,"As mentioned, the text specific direction and typography is no longer an option. As a result of this change in functionality, new typographies with default and language specific settings might be generated, when upgrading older versions. You can identify these auto generated typographies by their id. Either the text direction is used as suffix or a letter in the range A-Z:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Headline_LTR"),(0,a.kt)("li",{parentName:"ul"},"PosterText_RTL"),(0,a.kt)("li",{parentName:"ul"},"Title_A"),(0,a.kt)("li",{parentName:"ul"},"ButtonText_B")),(0,a.kt)("h4",g({},{id:"referencing-font-ids-in-user-code"}),"Referencing font ids in user code"),(0,a.kt)("p",null,"If you are referencing font ids in the user code, these might need to be updated. In cases where font ids are not referenced by symbol but by value, there is a risk of errors, as the font ids can change during an upgrade. It is recommended to always reference font ids by symbol, i.e. use ",(0,a.kt)("inlineCode",{parentName:"p"},"TypographyFontIndex::HEADLINE")," instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,a.kt)("h3",g({},{id:"using-libjpeg-with-armclang"}),"Using LibJPEG with ARMCLANG"),(0,a.kt)("p",null,"ARMCLANG projects where the LibJPEG middlewares is selected in CubeMX cannot run. ARMCLANG enables semi-hosting because LibJPEG refers to the libc file functions (e.g. fopen).",(0,a.kt)("br",{parentName:"p"}),"\n","Semi-hosting makes the application wait for a connection to a semi-hosting-aware debugger during startup.",(0,a.kt)("br",{parentName:"p"}),"\n","One way to resolve this issue is to remove references to fopen in LibJPEG by undefining JFILE in two files: ",(0,a.kt)("inlineCode",{parentName:"p"},"LibJPEG/source/jdatasrc.c")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"LibJPEG/source/jdatadst.c"),":"),(0,a.kt)(r.Z,{mdxType:"CodeHeader"},"LibJPEG/source/jdatasrc.c"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp",metastring:"{3-3}","{3-3}":!0}),'#include "jerror.h"\n\n#undef JFILE\n\n/* Expanded data source object for stdio input */\n#ifdef JFILE \n')),(0,a.kt)(r.Z,{mdxType:"CodeHeader"},"LibJPEG/source/jdatadst.c"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp",metastring:"{3-3}","{3-3}":!0}),'#include "jerror.h"\n\n#undef JFILE\n\n#ifndef HAVE_STDLIB_H       /* <stdlib.h> should declare malloc(),free() */\n')),(0,a.kt)("h3",g({},{id:"mjpeg-video-on-h750b-discovery"}),"MJPEG Video on H750B Discovery"),(0,a.kt)("p",null,"The H750B Discovery board uses hardware decoding of YCbCr video data. A bug in the code supplied with TouchGFX for this board causes visible artifacts for some videos.",(0,a.kt)("br",{parentName:"p"}),"\n","A solution is to change to software decoding. In some cases it is also possible to remove the problem by changing the width of the video a few pixels."),(0,a.kt)("h3",g({},{id:"threadx-assembler-files"}),"ThreadX assembler files"),(0,a.kt)("p",null,"The ThreadX assembler files for Keil IDE is using the new ARMCLANG V6 assembler syntax. The startup.s files supplied in some firmware packs is using the syntax of the older ARMCC assembler.  This means that you have to generally set your project to use the ARMCLANG V6 assembler, and then override this for the startup_stm32xxx.s:"),(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/keil-assembler.png",mdxType:"Figure"},"Deselecting ARMCLANG V6 assembler for startup.s"),(0,a.kt)("h2",g({},{id:"touchgfx-4-18-0"}),"TouchGFX 4.18.0"),(0,a.kt)("h3",g({},{id:"issues-with-cubemx-610-and-cubeprogrammer-26"}),"CubeMX 6.1.0\u548cCubeProgrammer 2.6\u7684\u95ee\u9898"),(0,a.kt)("p",null,"\u7531\u4e8e\u201cC/C++\u7f16\u8bd1\u5668\u201d / \u201c\u8bed\u8a00\u201d\u9009\u9879\u7684\u9519\u8bef\u8bbe\u7f6e\uff08\u4ece\u201c\u81ea\u52a8\u201d\u66f4\u6539\u4e3a\u201cC++\u201d\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\uff09\uff0cCubeMX\u751f\u6210\u7684CubeMX \u7248\u672c6.1.0 EWARM\u5de5\u7a0b\u4e0d\u80fd\u4e0eX-CUBE-TOUCHGFX\u4e00\u8d77\u4f7f\u7528\u3002 \u6b64\u95ee\u9898\u5c06\u5728CubeMX 6.1.1\u4e2d\u8fdb\u884c\u4fee\u6b63\u3002 \u5728\u6b64\u671f\u95f4\uff0c\u5c06\u9009\u9879\u624b\u52a8\u6539\u56de\u201c\u81ea\u52a8\u201d\u5c06\u89e3\u51b3\u7f16\u8bd1\u95ee\u9898\uff0c\u4f46\u662f\u4f1a\u5728CubeMX\u751f\u6210\u4ee3\u7801\u65f6\u8fd8\u539f\u3002"),(0,a.kt)("p",null,"CubeProgrammer 2.6\u4e2d\u4e0e\u5916\u90e8\u52a0\u8f7d\u5668 (",(0,a.kt)("inlineCode",{parentName:"p"},".stldr"),")\u5f15\u7528\u65b9\u5f0f\u76f8\u5173\u7684\u95ee\u9898\u4f1a\u635f\u574f\u6240\u6709\u73b0\u6709\u5e94\u7528\u6a21\u677f\uff08AT\uff09\u7684Makefile\uff0c\u8fd8\u4f1a\u59a8\u788dTouchGFX Designer\u4e2d\u201c\u8fd0\u884c\u76ee\u6807\u201d\u529f\u80fd\u7684\u6b63\u5e38\u5de5\u4f5c\u3002 \u6b64\u95ee\u9898\u8fd8\u6269\u5c55\u5230\u4e86\u57fa\u4e8e\u6700\u65b0AT\u7248\u672c\u7684\u7528\u6237\u5de5\u7a0b\u3002 \u5e94\u7528\u7a0b\u5e8f\u6a21\u677f\u5c06\u66f4\u65b0\u4ee5\u4fee\u8865\u8be5\u95ee\u9898\uff0c\u5e76\u5c06\u9002\u7528\u4e8eCubeProgrammer 2.5\u548c2.6\u3002 \u5982\u679c\u60a8\u5df2\u6709\u4e0d\u80fd\u4e0eCubeProgrammer 2.6\u4e00\u8d77\u4f7f\u7528\u7684\u57fa\u4e8eAT\u7684\u5de5\u7a0b\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u4e0b\u5217\u4fee\u6539\u4ee5\u6dfb\u52a0\u652f\u6301\u3002 \u5728\u5f15\u7528\u5916\u90e8\u6587\u4ef6\u5939\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u4ece",(0,a.kt)("inlineCode",{parentName:"p"},"bin"),"\u6587\u4ef6\u5939\u6267\u884c",(0,a.kt)("inlineCode",{parentName:"p"},"STM32CubeProgrammer_CLI.exe"),"\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u6307\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cd"),"\u8fdb\u5165STM32CubeProgrammer\u5b89\u88c5\u6587\u4ef6\u5939\u4e2d\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"bin"),"\u6587\u4ef6\u5939\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u6267\u884c\u547d\u4ee4\uff0c\u901a\u8fc7\u5bf9",(0,a.kt)("inlineCode",{parentName:"li"},".stldr"),"\u6587\u4ef6\u7684",(0,a.kt)("em",{parentName:"li"},"\u76f8\u5bf9"),"\u5f15\u7528\u5bf9\u8fde\u63a5\u7684\u76ee\u6807\u786c\u4ef6\u8fdb\u884c\u70e7\u5f55\u3002")),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{}),'@cd "$(st_stm32cube_programmer_bin_path)" && ./$(stm_stm32cube_programmer_exe) -c port=SWD -d $(application_path)/$(binary_output_path)/target.hex -el $(stm32cubeLoader_relative_path) -hardRst\n')),(0,a.kt)(o.Z,{mdxType:"Note"},"The CubeProgrammer bug is solved in version 2.10."),(0,a.kt)("h3",g({},{id:"new-touchgfx-format"}),"New .touchgfx format"),(0,a.kt)("p",null,"From TouchGFX 4.17.0 to TouchGFX 4.18.0 the content of the .touchfgx file has been changed significantly in two major areas. This may result in a vastly updated .touchfgx file, simply by opening and saving a .touchgfx project file using the TouchGFX Designer. The main changes are in the following areas:"),(0,a.kt)("h4",g({},{id:"default-values-are-not-written-to-touchgfx"}),"Default values are not written to .touchgfx"),(0,a.kt)("p",null,"Widget parameters that have a default value e.g. as a box offset of X=0, Y=0 or the color black (red=0, green=0, blue=0) were previously written to the .touchgfx file, but in TouchGFX version 4.18.0 these values are not written. This may result in slightly smaller .touchgfx files."),(0,a.kt)("h4",g({},{id:"removed-textentries-block"}),"Removed TextEntries block"),(0,a.kt)("p",null,"SingleUseId's have been renamed to contain random numbers and letters instead of sequential numbers to ease merging of a project with several active developers, as new single use text id's do not get the same id. Also, the \"TextEntries\" section in the .touchgfx has been removed, which may result in a vastly reduced .touchgfx file size."),(0,a.kt)("h3",g({},{id:"lcd16bpp-fillrect-and-lcd16bpp-drawglyph"}),"LCD16bpp::fillRect and LCD16bpp::drawGlyph"),(0,a.kt)("p",null,"The fillRect and drawGlyph functions in LCD16bpp now pass the full 24bit color to the DMA, instead of the reduced 16bit (RGB565) color. This may result in wrong colors on the hardware (not the simulator) and can be fixed by regenerating the DMA classes from CubeMX."),(0,a.kt)("h3",g({},{id:"makefile-and-xlsx"}),"Makefile and xlsx"),(0,a.kt)("p",null,'TouchGFX 4.18.0 uses a new .xml format for storing texts and translations instead of the old .xlsx format previously used. This means that all references of "texts.xlsx" in Makefiles and visual studio projects should be changed to "texts.xml". The TextConvert tool will recognise this, even if the old texts.xlsx file exist and the texts.xml does not, and convert texts.xlsx to texts.xml for all future uses.'),(0,a.kt)("p",null,"To see a new, working Makefile, simply create a new (blank) project using TouchGFX Designer and consult the generated Makefile located in folder generated/simulator/gcc/Makefile."),(0,a.kt)("h3",g({},{id:"font-size-limit-in-textsxsd"}),"Font size limit in texts.xsd"),(0,a.kt)("p",null,"The texts.xsd which is used by the designer to validate the texts.xml has a limit on the font size of 255. If you have font sizes greater than 255, you will see an error message in the designer like this:"),(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/font-size-limit-xsd.png",mdxType:"Figure"},"Error message - Font size limit"),(0,a.kt)("p",null,"The workaround is to close the project, change the Typographies Size attribute from xs:unsignedByte to xs:unsignedInt in the texts.xsd and reopen the project."),(0,a.kt)("h3",g({},{id:"sdl2-linker-error-on-linux"}),"SDL2 linker error on Linux"),(0,a.kt)("p",null,"The SDL2 libraries used by the simulator are now only included for Windows users. Linux users must install the SDL2 libraries themselves. This is a task that has to be carried out only once, and for ubuntu the command is"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{}),"sudo apt install libsdl2-dev libsdl2-image-dev\n")),(0,a.kt)("p",null,"to install libsdl2 and libsdl2-image including header files for development"),(0,a.kt)("h2",g({},{id:"touchgfx-4-17-0"}),"TouchGFX 4.17.0"),(0,a.kt)("h3",g({},{id:"painters-no-longer-support-setalpha"}),"\u7ed8\u56fe\u5de5\u5177\u4e0d\u518d\u652f\u6301setAlpha()"),(0,a.kt)("p",null,"\u51fa\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u8003\u8651\uff0cCanvas Widget Renderer\uff08CWR\uff09\u4f7f\u7528\u7684\u7ed8\u56fe\u63a7\u4ef6\u4e0d\u518d\u652f\u6301alpha\u3002 \u901a\u8fc7\u5728\u6709\u7ed8\u56fe\u63a7\u4ef6\u7684\u753b\u5e03\u63a7\u4ef6\u4e0a\u8bbe\u7f6ealpha\uff0c\u4ecd\u7136\u53ef\u4ee5\u8fbe\u5230\u6548\u679c\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u53ef\u4ee5\u5c06\u4e0b\u9762\u8fd9\u6837\u7684\u4ee3\u7801\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"painter.setColor(Color::getColorFromRGB(0xFF, 0x00, 0x00));\npainter.setAlpha(128);\ncircle.setPainter(painter);\n")),(0,a.kt)("p",null,"\u4fee\u6539\u6210\u8fd9\u6837\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"painter.setColor(Color::getColorFromRGB(0xFF, 0x00, 0x00));\ncircle.setPainter(painter);\ncircle.setAlpha(128);\n")),(0,a.kt)("p",null,"\u5982\u679c\u4e4b\u524d\u5c06alpha\u5e94\u7528\u4e8e\u7ed8\u56fe\u63a7\u4ef6\u548c\u753b\u5e03\u63a7\u4ef6\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e24\u4e2aalpha\u503c\u76f8\u4e58\uff0c\u7136\u540e\u9664\u4ee5255\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"painter.setColor(Color::getColorFromRGB(0xFF, 0x00, 0x00));\npainter.setAlpha(painterAlpha);\ncircle.setPainter(painter);\ncircle.setAlpha(circleAlpha);\n")),(0,a.kt)("p",null," \u53d8\u6210"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"painter.setColor(Color::getColorFromRGB(0xFF, 0x00, 0x00));\ncircle.setPainter(painter);\ncircle.setAlpha((painterAlpha * circleAlpha) / 255);\n")),(0,a.kt)("p",null,"\u6216\u8005\u4f7f\u7528LCD::div255()\u66ff\u4ee3\u9664\u4ee5255\u3002"),(0,a.kt)("h3",g({},{id:"using-the-hal-class"}),"\u4f7f\u7528HAL\u7c7b"),(0,a.kt)("p",null,"\u5728\u7248\u672c4.17.0\u4e4b\u524d\uff0c\u5b8c\u5168\u4e0d\u4f7f\u7528HAL\u7684TouchGFX\u6846\u67b6\u4e2d\u7684\u591a\u4e2a\u6587\u4ef6\u5305\u542b\u5934\u6587\u4ef6touchgfx/hal/HAL.hpp\u3002 \u8fd9\u53ef\u80fd\u5bfc\u81f4\u7528\u6237\u4ee3\u7801\u7531\u4e8e\u7f16\u8bd1\u5668\u4e0d\u77e5\u9053HAL\u800c\u4e0d\u8fdb\u884c\u7f16\u8bd1\u3002\u8fd9\u4e9b\u4e0d\u5fc5\u8981\u7684\u5f15\u7528\u73b0\u5df2\u6e05\u7406\u3002 \u4e3a\u4e86\u4fee\u6b63\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ea\u9700\u5305\u542bHAL\u5934\u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"#include <touchgfx/hal/HAL.hpp>\n")),(0,a.kt)("p",null,"\u53e6\u5916\uff0cScreen\u7c7b\u6709\u4e24\u4e2a\u65b0\u51fd\u6570getScreenWidth() \u548cgetScreenHeight()\uff0c\u7528\u4e8e\u7ed9\u51fa\u5c4f\u5e55\u5c3a\u5bf8\u3002 \u63a8\u8350\u8be5\u65b9\u6cd5\u7528\u6765\u83b7\u5f97\u5c4f\u5e55\u5c3a\u5bf8\uff0c\u53ef\u4eceScreen\u7684\u4efb\u610f\u5b50\u7c7b\uff08\u5982Screen1View.cpp\uff09\u76f4\u63a5\u8c03\u7528\u3002"),(0,a.kt)("h3",g({},{id:"fmc-display-interface-in-touchgfx-generator"}),"TouchGFX Generator\u4e2d\u7684FMC\u663e\u793a\u63a5\u53e3"),(0,a.kt)("p",null,"\u5f53\u4f7f\u7528TouchGFX Generator\u4e2d\u65b0\u7684FMC\u663e\u793a\u63a5\u53e3\u65f6\uff0c\u7528CubeMX 6.2.1\u751f\u6210\u65f6FMC\u5b58\u50a8\u533a\u7684",(0,a.kt)("em",{parentName:"p"},"\u5185\u5b58\u504f\u79fb"),"\u662f\u4e0d\u6b63\u786e\u7684\uff08\u96f6\uff09\u3002 \u8fd9\u4f1a\u5728CubeMX 6.3.0\u4e2d\u4fee\u6b63\uff0c\u5728\u53d1\u5e03\u65f6\uff0cX-CUBE-TouchGFX\u9700\u8981\u7684\u6700\u4f4e\u7248\u672c\u5c06\u8df3\u81f36.3.0\u800c\u4e0d\u662f\u76ee\u524d\u76846.2.1\u3002 \u5230\u90a3\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXGeneratedHAL.cpp"),"\u4e2d\u8f93\u5165\u6b63\u786e\u7684FMC BANK\u5b58\u50a8\u5730\u5740\uff08\u5c06\u5728\u91cd\u65b0\u751f\u6210\u65f6\u88ab\u8986\u76d6\uff09\u3002 \u5982"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"#define FMC_BANK1_REG ((uint16_t *) 0x60000000)\n#define FMC_BANK1_MEM ((uint16_t *) 0x60000002)\n")),(0,a.kt)("p",null,"\u7528\u6237\u8fd8\u53ef\u4ee5\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL.cpp"),"\u4e2d\u5168\u90e8\u91cd\u65b0\u5b9a\u4e49\u5b83\u4eec\u3002"),(0,a.kt)("h3",g({},{id:"l8-images-in-16-24-or-32bpp-configurations"}),"16-24\u621632bpp\u914d\u7f6e\u7684L8\u56fe\u50cf"),(0,a.kt)("p",null,"\u5728\u52a0\u8f7dL8\u56fe\u50cf\u7684CLUT\u65f6\uff0c\u5bf9",(0,a.kt)("inlineCode",{parentName:"p"},"OSWrappers::taskYield()")," \u7684\u8c03\u7528\u88ab\u9519\u8bef\u5730\u5f15\u5165\u4e86STM32DMA\u7c7b\u3002 \u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5bfc\u822a\u5230\u60a8\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"Users/<user name>/STM32Cube/Repository/Packs/STMicroelectronics/X-CUBE-TOUCHGFX/4.17.0/CubeMX/templates/Target"),"\u6587\u4ef6\u5939\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u6839\u636e\u60a8\u7684\u4f4d\u6df1\u6253\u5f00\u76f8\u5e94\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"dma\\u Xbpp\\u implementation\\u tmp.ftl"),"\u6587\u4ef6"),(0,a.kt)("li",{parentName:"ol"},"\u5220\u9664\u6216\u6ce8\u91ca",(0,a.kt)("inlineCode",{parentName:"li"},"while ((READ_REG(DMA2D->FGPFCCR) & DMA2D_FGPFCCR_START) != 0U)"),"\u5faa\u73af\u4e2d\u5bf9 ",(0,a.kt)("inlineCode",{parentName:"li"},"OSWrappers::taskYield()"),"\u7684\u8c03\u7528\uff0c\u5e76\u4eceSTM32CubeMX\u91cd\u65b0\u751f\u6210\u4ee3\u7801\uff0c\u4ee5\u4f7f\u7528\u6b64\u4fee\u6539\u7684\u6a21\u677f\u751f\u6210\u4ee3\u7801\u3002")),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"while ((READ_REG(DMA2D->FGPFCCR) & DMA2D_FGPFCCR_START) != 0U)\n{\n    // OSWrappers::taskYield();\n}\n")),(0,a.kt)("h2",g({},{id:"touchgfx-4150"}),"TouchGFX 4.15.0"),(0,a.kt)("h3",g({},{id:"mcu-support"}),"\u652f\u6301\u7684MCU"),(0,a.kt)("p",null,"\u867d\u7136TouchGFX\u5b8c\u5168\u652f\u6301Cortex-M33\uff0c\u4f46\u5728CubeMX\u4e2d\u6dfb\u52a0\u652f\u6301\u524d\uff0c\u5f53\u524dCubeMX\uff08v6.0.1\uff09\u7248\u672c\u4e2d\u4e0d\u80fd\u542f\u7528\u591a\u4e0a\u4e0b\u6587MCU\u7684\u201c\u8f6f\u4ef6\u5305\u201d\uff08\u5305\u62ecTouchGFX Generator\uff09\u3002 \u5bf9\u57fa\u4e8eCortex-M33\u7684MCU\u7981\u7528\u201cTrust Zone\u201d\uff0c\u4ece\u800c\u5c06MCU\u9650\u5236\u5728\u5355\u4e0a\u4e0b\u6587\uff0c\u5c06\u5141\u8bb8\u60a8\u542f\u7528TouchGFX Generator\u3002 \u5e94\u5728\u201c\u7528\u6237\u4ee3\u7801\u201d\u533a\u624b\u52a8\u4f7f\u80fdTrustZone\u3002"),(0,a.kt)("h2",g({},{id:"touchgfx-4140"}),"TouchGFX 4.14.0"),(0,a.kt)("h3",g({},{id:"armclang-support"}),"ARMCLANG\u652f\u6301"),(0,a.kt)("p",null,"\u867d\u7136TouchGFX\u73b0\u5728\u4e3a",(0,a.kt)("em",{parentName:"p"},"Cortex-M0"),"\u3001",(0,a.kt)("em",{parentName:"p"},"Cortex-M4f"),"\u3001",(0,a.kt)("em",{parentName:"p"},"Cortex-M7"),"\u548c",(0,a.kt)("em",{parentName:"p"},"Cortex-M33"),"\u63d0\u4f9bARMCLANG\uff08ARM\u7f16\u8bd1\u5668v6.x\uff09\u5e93\uff0cCubeMX\u5374\u4e0d\u80fd\u751f\u6210\u542f\u7528ARMCLANG\u7f16\u8bd1\u5668\uff08ARM\u7f16\u8bd1\u5668v6.x\uff09\u7684\u5de5\u7a0b\u3002 \u60f3\u5728\u5176\u5de5\u7a0b\u4e2d\u4f7f\u7528\u8be5\u7f16\u8bd1\u5668\u7684\u7528\u6237\u9700\u8981\u5728Keil uVision\u4e2d\u7684\u5de5\u7a0b\u9009\u9879\u4e2d\u624b\u52a8\u9009\u62e9\u7f16\u8bd1\u5668\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u5728CubeMX\u5185\u914d\u7f6eFreeRTOS\u4e2d\u95f4\u4ef6\uff0c\u751f\u6210\u7684\u4efb\u4f55\u4f7f\u7528ARMCC\uff08ARM\u7f16\u8bd1\u5668v5.x\uff09\u7684\u5de5\u7a0b\u90fd\u90fd\u4f1a\u5305\u542bFreeRTOS",(0,a.kt)("em",{parentName:"p"},"\u53ef\u79fb\u690d"),"\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u4e0eARMCLANG\u662f\u4e0d\u517c\u5bb9\u7684\uff1b\u5fc5\u987b\u624b\u5de5\u66ff\u6362\u8fd9\u4e9b\u6587\u4ef6\u3002 \u6bcf\u5f53\u4eceCubeMX\u5185\u90e8\u8fd0\u884c\u201c\u751f\u6210\u4ee3\u7801\u201d\u65f6\uff0c\u4efb\u4f55\u624b\u5de5\u4fee\u6539\u90fd\u4f1a\u88ab\u8986\u76d6\uff0c\u6700\u597d\u5728\u7248\u672c\u63a7\u5236\uff08git\u7b49\uff09\u4e0b\u7ef4\u62a4\u5de5\u7a0b\uff0c\u4ee5\u4fbf\u64a4\u9500\u8fd9\u4e9b\u7279\u5b9a\u4fee\u6539\u3002"),(0,a.kt)("p",null,"\u603b\u4e4b\uff0c \u7531\u4e8eCubeMX\u53ea\u80fd\u751f\u6210\u4f7f\u7528ARM Compiler v5.x\u7f16\u8bd1\u5668\u7684\u5de5\u7a0b\uff0c\u56e0\u6b64\u7528\u6237\u6bcf\u6b21\u4eceCubeMX\u751f\u6210\u4ee3\u7801\u65f6\u5fc5\u987b\u4fee\u6539\u4e0b\u5217\u5185\u5bb9\uff0c\u5728\u7248\u672c\u63a7\u5236\u4e0b\u7ef4\u62a4\u9879\u76ee\u9664\u5916\u3002"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5728\u5de5\u7a0b\u9009\u9879\u4e2d\u9009\u62e9ARM Compiler v6.x\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u94fe\u63a5ARMCLANG\u5e93\u800c\u4e0d\u662fARMCC\u5e93\uff08\u901a\u8fc7CubeMX\u914d\u7f6e\uff09\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5982\u679c\u5728CubeMX\u5185\u914d\u7f6eFreeRTOS\uff0c\u4e3a\u4e86\u517c\u5bb9ARM Compiler v6.x\uff0c\u5e94\u4ece",(0,a.kt)("inlineCode",{parentName:"li"},"portable/GCC"),"\u6587\u4ef6\u5939\u83b7\u53d6FreeRTOS\u53ef\u79fb\u690d\u6587\u4ef6\uff0c\u800c\u4e0d\u662f",(0,a.kt)("inlineCode",{parentName:"li"},"portable/RVDS"),"\u6587\u4ef6\u5939\uff08ARM Compiler v5.x\u7684\u9ed8\u8ba4\u9009\u62e9\uff09\u3002")),(0,a.kt)("h4",g({},{id:"workflow"}),"\u5de5\u4f5c\u6d41\u7a0b"),(0,a.kt)("p",null,"\u4e0b\u5217\u6d41\u7a0b\u63cf\u8ff0\u4e86\u5982\u4f55\u5728Keil uVision\u4e2d\u5bf9CubeMX\u751f\u6210\u7684\u5de5\u7a0b\u4f7f\u7528v6.x ARM \u7f16\u8bd1\u5668\u548cTouchGFX ARMCLANG\u5e93\u3002"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5728Keil uVision\u4e2d\u9009\u62e9ARMCLANG\uff08v. 6.x\uff09\u3002")),(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/armclang-support.png",noShadow:!0,width:"650",mdxType:"Figure"},"ARMCLANG\u652f\u6301"),(0,a.kt)("ol",g({},{start:2}),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u5982\u679c\u60a8\u5728CubeMX\u4e2d\u914d\u7f6e\u4e86FreeRTOS\uff0cCubeMX\u5c06\u751f\u6210\u9519\u8bef\u7684\u53ef\u79fb\u690d\u6587\u4ef6\uff0c\u5e76\u5c06\u60a8\u7684\u5de5\u7a0b\u914d\u7f6e\u4e3a\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\u3002 \u60a8\u5fc5\u987b\u4f7f\u7528\u6765\u81ea",(0,a.kt)("a",g({parentName:"p"},{href:"https://github.com/FreeRTOS/FreeRTOS-Kernel/tree/6199b72fbf57a7c5b3d7b195a3bd1446779314cd/portable/GCC%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%88%60port.c%60%E5%92%8C%60portmacro.h%60%EF%BC%89%E6%88%96%E4%B8%8B%E8%BD%BD%E4%B8%80%E4%B8%AAFreeRTOS%E7%89%88%E6%9C%AC%E5%B9%B6%E4%BB%8E%E4%B8%AD%E6%89%BE%E5%88%B0%E7%9B%B8%E5%BA%94%E6%96%87%E4%BB%B6%E6%9D%A5%E6%89%8B%E5%B7%A5%E6%9B%BF%E6%8D%A2%E3%80%82"}),"https://github.com/FreeRTOS/FreeRTOS-Kernel/tree/6199b72fbf57a7c5b3d7b195a3bd1446779314cd/portable/GCC\u7684\u6587\u4ef6\uff08`port.c`\u548c`portmacro.h`\uff09\u6216\u4e0b\u8f7d\u4e00\u4e2aFreeRTOS\u7248\u672c\u5e76\u4ece\u4e2d\u627e\u5230\u76f8\u5e94\u6587\u4ef6\u6765\u624b\u5de5\u66ff\u6362\u3002")),(0,a.kt)("p",{parentName:"li"},"\u66ff\u6362",(0,a.kt)("inlineCode",{parentName:"p"},"port.c"),"\uff1a ",(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/keil-port-c.png",noShadow:!0,width:"250",mdxType:"Figure"},"port.c")),(0,a.kt)("p",{parentName:"li"},"\u5c06include\u8def\u5f84\u8bbe\u7f6e\u4fee\u6539\u4e3a\u5305\u542b",(0,a.kt)("inlineCode",{parentName:"p"},"portable/GCC"),"\u6587\u4ef6\u5939\u4e2d\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"portmacro.h"),"\uff08\u672c\u4f8b\u4e2d\u4ee5Cortex-M7\u4e3a\u4f8b\uff09\uff1a ",(0,a.kt)(l.Z,{imageSource:"/img/miscellaneous/known-issues/keil-port-include.png",noShadow:!0,width:"600",mdxType:"Figure"},"\u53ef\u79fb\u690d\u6587\u4ef6\u5305\u542b\u8def\u5f84"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u201c\u751f\u6210\u4ee3\u7801\u201d\u671f\u95f4\u4e2d\uff0cTouchGFX Designer\u751f\u6210\u540e\u6b65\u9aa4\u4f1a\u6839\u636e\u60a8\u9009\u62e9\u7684\u7f16\u8bd1\u5668\u7248\u672c\u81ea\u52a8\u63d2\u5165\u6b63\u786e\u7684\u5e93\u3002"))),(0,a.kt)("h2",g({},{id:"touchgfx-4130"}),"TouchGFX 4.13.0"),(0,a.kt)("h3",g({},{id:"bugs"}),"\u9519\u8bef"),(0,a.kt)("h4",g({},{id:"font-converter"}),"\u5b57\u4f53\u8f6c\u6362\u5668"),(0,a.kt)("p",null,"FontConverter\u5de5\u5177\u4f1a\u4e3aunicodes\u7801\u751f\u6210\u5b57\u5f62\u50cf\u7d20\u6570\u636e\uff0c\u8fd9\u662f\u5b57\u4f53\u89c4\u5219\u7684\u4e00\u90e8\u5206\uff0c\u800c\u65e0\u8bba\u8be5\u5b57\u5f62\u662f\u5426\u5728\u5e94\u7528\u4e2d\u5b9e\u9645\u6587\u672c\u4e2d\u7528\u5230\u3002 \u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u5146\u5b57\u8282\u7684\u989d\u5916\u5b57\u5f62\u50cf\u7d20\u6570\u636e\u3002 \u8fd9\u91cc\u53ef\u4ee5\u627e\u5230\u4e0d\u4f1a\u4e3a\u5e94\u7528\u4e2d\u672a\u4f7f\u7528\u7684\u5b57\u5f62\u751f\u6210\u50cf\u7d20\u6570\u636e\u7684FontConverter\u65b0\u5de5\u5177\uff08Windows\u548cLinux\uff09\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"http://sw-center-st-com.s3-eu-west-1.amazonaws.com/touchgfx/TouchGFX/Patches/4.13.0/fontconvert_fix.zip"}),"fontconvert_fix.zip"))),(0,a.kt)("p",null,"\u57284.13.0\u5b89\u88c5\u7684\u6839\u76ee\u5f55\u4e0b\u63d0\u53d6\u8be5\u538b\u7f29\u6587\u4ef6\u5c06\u66f4\u65b0touchgfx\\framework\\tools\u5185\u90e8\u7684fontconverter\u5e93"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx\\framework\\tools")),(0,a.kt)("h3",g({},{id:"additional-compiler-support"}),"\u989d\u5916\u7f16\u8bd1\u5668\u652f\u6301"),(0,a.kt)("p",null,"\u7528ARMCLANG\u7f16\u8bd1\u5668\uff08v6.12\uff09\u6784\u5efa\u7684\u5e93\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"http://sw-center-st-com.s3-eu-west-1.amazonaws.com/touchgfx/TouchGFX/Patches/4.13.0/touchgfx_core_clang.zip"}),"touchgfx_core_clang.zip"))),(0,a.kt)("p",null,"\u57284.13.0\u5b89\u88c5\u7684\u6839\u76ee\u5f55\u63d0\u53d6\u6b64\u6587\u4ef6\u53ef\u5c06\u5e93",(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx_core_clang.lib"),"\u7f6e\u5165"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx\\lib\\core\\cortex_m7\\Keil")),(0,a.kt)("h3",g({},{id:"backwards-compatibility"}),"\u5411\u540e\u517c\u5bb9"),(0,a.kt)("h4",g({},{id:"deprecated-features"}),"\u5df2\u5f03\u7528\u7684\u529f\u80fd"),(0,a.kt)("p",null,"\u4e0b\u5217\u5f03\u7528\u7684\u529f\u80fd\u5df2\u7ecf\u88ab\u79fb\u9664\u4e86\u3002 \u5982\u679c\u60a8\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u4e86\u5b83\u4eec\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u7f16\u5199\u5e94\u7528\u4e2d\u7684\u8fd9\u90e8\u5206\u5185\u5bb9\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5df2\u5f03\u7528\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"TRANSPARENT_COL"),"\u5b9a\u4e49"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Drawable::getType()")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HAL::blitSetTransparencyKey()")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HAL::registerTextCache()")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HAL::cacheTextString()"))),(0,a.kt)("h4",g({},{id:"texturemapper-is-disabled-by-default"}),"\u9ed8\u8ba4\u7981\u7528TextureMapper"),(0,a.kt)("p",null,"\u9ed8\u8ba4\u7981\u7528TextureMapper\uff0c\u4ee5\u6d88\u51cfTouchGFX\u4f7f\u7528\u7684\u4ee3\u7801\u7a7a\u95f4\u3002 TouchGFX designer\u4f1a\u5728\u6240\u6709\u65b0\u5de5\u7a0b\u4e2d\u63d2\u5165\u4ee3\u7801\uff0c\u4ee5\u542f\u7528\u7eb9\u7406\u6620\u5c04\u5668\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u60a8\u5c06\u65e7\u5de5\u7a0b\u79fb\u690d\u5230TouchGFX 4.13\uff0c\u5e76\u66f4\u65b0\u81f3TouchGFX 4.13\uff0c\u5c06\u7531TouchGFX Designer\u5904\u7406\u8fd9\u4e9b\u95ee\u9898\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u662f\u624b\u5de5\u66f4\u65b0\uff0c\u5219\u9700\u8981\u63d2\u5165\u4ee3\u7801\u6765\u542f\u7528TextureMapper\u3002 \u5426\u5219\uff0c\u5c06\u4e0d\u4f1a\u5728\u5c4f\u5e55\u4e0a\u7ed8\u5236\u4efb\u4f55TextureMapper\u3002"),(0,a.kt)("p",null,"\u9605\u8bfb\u66f4\u591a\u5185\u5bb9\uff1a",(0,a.kt)("a",g({parentName:"p"},{href:"../development/ui-development/designer-user-guide/config-view#framework-features"}),"\u914d\u7f6eTouchGFX\u7279\u6027"),"\u3002"),(0,a.kt)("h4",g({},{id:"hal-sdl1-incompatible"}),"\u4e0d\u517c\u5bb9HAL SDL1"),(0,a.kt)("p",null,"\u6709\u4e24\u4e2a\u51fd\u6570\u4eceTouchGFX\u5e93\u4ee3\u7801\u79fb\u5230\u4e86",(0,a.kt)("inlineCode",{parentName:"p"},"HALSDL2.cpp"),"\u3002 \u8fd9\u5bf9\u5c06",(0,a.kt)("inlineCode",{parentName:"p"},"HALSDL2.cpp"),"\u7528\u5728Windows\u6a21\u62df\u5668\u7684HAL\u5e94\u7528\u800c\u8a00\u6ca1\u6709\u5206\u522b\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u60a8\u6709\u4e00\u4e2a\u8001\u5e94\u7528\uff08\u65e9\u4e8eTouchGFX 4.8.0\uff09\uff0c\u5219\u60a8\u7684\u6a21\u62df\u5668\u53ef\u80fd\u662f\u5728\u4f7f\u7528HALSDL\uff08\u975e2\uff09\u3002 \u6b64\u6a21\u62df\u5668HAL\u4e0d\u518d\u5305\u542b\u5728TouchGFX\u4e2d\u3002 HALSDL\u7f3a\u5931\u4e86\u4e4b\u524d\u5305\u542b\u5728TouchGFX\u5e93\u4e2d\u7684\u4e24\u4e2a\u51fd\u6570\u3002 \u60a8\u9700\u8981\u5c06\u5b83\u4eec\u624b\u52a8\u6dfb\u52a0\u5230",(0,a.kt)("inlineCode",{parentName:"p"},"HALSDL.cpp"),"\uff1a"),(0,a.kt)(r.Z,{mdxType:"CodeHeader"},"HALSDL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),'void simulator_enable_stdio();\nvoid simulator_enable_stdio()\n{\n    HWND consoleHwnd = GetConsoleWindow(); // Get handle of console window\n    if (!consoleHwnd)                      // No console window yet?\n    {\n        HWND activeHwnd = GetActiveWindow(); // Remember which window is active\n\n        AllocConsole();                   // Allocate a new console\n        consoleHwnd = GetConsoleWindow(); // Get handle of console window\n\n        FILE* dummy;\n        freopen_s(&dummy, "CONIN$", "r", stdin); // Redirect stdin/stdout/stderr to the new console\n        freopen_s(&dummy, "CONOUT$", "w", stdout);\n        freopen_s(&dummy, "CONOUT$", "w", stderr);\n\n        SwitchToThisWindow(activeHwnd, true); // Switch back to the originally active window\n    }\n    if (consoleHwnd)\n    {\n        ShowWindow(consoleHwnd, SW_SHOW); // Show/hide it!\n    }\n}\nvoid simulator_printf(const char* format, va_list pArg);\nvoid simulator_printf(const char* format, va_list pArg)\n{\n    // Create a console window, if window is visible.\n    simulator_enable_stdio();\n    if (GetConsoleWindow()) // Only print if we have a console window\n    {\n        vprintf(format, pArg);\n    }\n}\n')),(0,a.kt)("h2",g({},{id:"touchgfx-4123"}),"TouchGFX 4.12.3"),(0,a.kt)("h3",g({},{id:"backwards-compatibility-1"}),"\u5411\u540e\u517c\u5bb9"),(0,a.kt)("h4",g({},{id:"screen-transitions"}),"\u5c4f\u5e55\u5207\u6362"),(0,a.kt)("p",null,"\u66f4\u65e9\u7684\u7248\u672c\u5728\u5b8c\u6210\u5c4f\u5e55\u5207\u6362\u540e\u91cd\u7ed8\u6574\u4e2a\u5c4f\u5e55\u3002\xa0\u989d\u5916\u7684\u91cd\u7ed8\u5728\u4e00\u4e9b\u8f83\u6162\u7684\u5e73\u53f0\u4e0a\u4f1a\u5bfc\u81f4\u4e86\u6027\u80fd\u95ee\u9898\u3002 \u5982\u679c\u60a8\u51fa\u4e8e\u67d0\u4e9b\u539f\u56e0\u9700\u8981\u6b64\u7c7b\u91cd\u7ed8\uff0c\u5219\u9700\u8981\u4f7f\u5c4f\u5e55\u7684\u76f8\u5173\u90e8\u5206\u5931\u6548\uff0c\u4f8b\u5982\uff0c\u5728\u5207\u6362\u5230\u7684\u5c4f\u5e55\u7684\u865a\u51fd\u6570",(0,a.kt)("inlineCode",{parentName:"p"},"Screen::afterTransition()"),"\u4e2d\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"container.invalidate()"),"\u3002"),(0,a.kt)("h4",g({},{id:"binary-fonts"}),"\u4e8c\u8fdb\u5236\u5b57\u4f53"),(0,a.kt)("p",null,"\u7531\u4e8e\u5b57\u8ddd\u8c03\u6574\u6570\u636e\u73b0\u5df2\u5305\u542b\u5728\u4e8c\u8fdb\u5236\u5b57\u4f53\u4e2d\uff0c\u56e0\u800c\u4fee\u6539\u4e86\u4e8c\u8fdb\u5236\u5b57\u4f53\u7684\u683c\u5f0f\u3002 \u9700\u8981\u91cd\u65b0\u751f\u6210\u4e8c\u8fdb\u5236\u5b57\u4f53\u6587\u4ef6\uff0c\u539f\u6709\u7684\u8001\u6587\u4ef6\u4f1a\u5de5\u4f5c\u4e0d\u6b63\u5e38\u3002 \u6839\u636eMakefiles\u7684\u8bbe\u7f6e\u65b9\u5f0f\uff0c\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u91cd\u65b0\u751f\u6210\u6240\u6709\u8d44\u6e90\u6765\u5b8c\u6210\uff08\u5982",(0,a.kt)("inlineCode",{parentName:"p"},"\u201cmake -f simulator/gcc/Makefile clean assets\u201d"),"\uff09\u3002"),(0,a.kt)("h2",g({},{id:"touchgfx-4110"}),"TouchGFX 4.11.0"),(0,a.kt)("h3",g({},{id:"backwards-compatibility-2"}),"\u5411\u540e\u517c\u5bb9"),(0,a.kt)("p",null,"\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx/framework/include/touchgfx/lcd/LCD.hpp"),"\u4e2d\uff0c\u6211\u4eec\u5220\u9664\u4e86\u5934\u6587\u4ef6",(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx/hal/HAL.hpp"),"\uff0c\u8fd9\u4e2a\u662f\u5728\u65e9\u671f\u7248\u672c\u4e2d\u8bef\u63d2\u5165\u7684\u3002 \u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5305\u542b",(0,a.kt)("inlineCode",{parentName:"p"},"LCD.hpp"),"\u5e76\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"HAL.hpp"),"\u5185\u5bb9\u7684\u6587\u4ef6\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\u3002 \u89e3\u51b3\u65b9\u6848\u662f\u5728\u60a8\u7684\u6587\u4ef6\u4e2d\u4e5f\u5305\u542b\u8fdb",(0,a.kt)("inlineCode",{parentName:"p"},"touchgfx/framework/include/touchgfx/hal/HAL.hpp"),"\u3002"),(0,a.kt)("h2",g({},{id:"touchgfx-4100"}),"TouchGFX 4.10.0"),(0,a.kt)("h3",g({},{id:"upgrading-from-49x"}),"\u4ece4.9.x\u5347\u7ea7"),(0,a.kt)("p",null,"\u4ece\u7248\u672c4.10.0\u5f00\u59cb\uff0cTouchGFX\u53ea\u5728STM32 MCU\u4e0a\u8fd0\u884c\u3002"),(0,a.kt)("p",null,"\u5982\u9700\u66f4\u65b0\u8001\u9879\u76ee\uff0c\u60a8\u9700\u8981\u6267\u884c\u4e0b\u5217\u64cd\u4f5c\u3002"),(0,a.kt)("p",null,"\u5728\u5e94\u7528\u542f\u52a8\u65f6\u6dfb\u52a0\u4e0b\u9762\u7a81\u51fa\u663e\u793a\u7684\u4ee3\u7801\uff0c\u4ee5\u901a\u77e5TouchGFX\u6b63\u5728STM32\u786c\u4ef6\u4e0a\u8fd0\u884c\u3002 \u5408\u9002\u7684\u6dfb\u52a0\u4f4d\u7f6e\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"BoardConfiguration.cpp"),"\u4e2d",(0,a.kt)("inlineCode",{parentName:"p"},"hw_init()"),"\u51fd\u6570\u7684\u7ed3\u5c3e\u5904\u3002"),(0,a.kt)(r.Z,{mdxType:"CodeHeader"},"BoardConfiguration.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"void hw_init() {\n    ...\n    //Enable CRC engine for STM32 Lock check\n    __HAL_RCC_CRC_CLK_ENABLE();\n}\n")),(0,a.kt)("h3",g({},{id:"backwards-compatibility-3"}),"\u5411\u540e\u517c\u5bb9"),(0,a.kt)("p",null,"\u5220\u9664\u4e86\u672a\u4f7f\u7528\u7684\u6587\u4ef6",(0,a.kt)("inlineCode",{parentName:"p"},"\\touchgfx\\framework\\include\\touchgfx\\canvas_widget_renderer\\RGBA8.hpp"),"\u3002"),(0,a.kt)("h3",g({},{id:"project-updater-issue"}),"\u5de5\u7a0b\u66f4\u65b0\u5668\u7684\u95ee\u9898"),(0,a.kt)("p",null,"\u4eceTouchGFX Designer\u8c03\u7528\u7684IAR\u548cKeil\u5de5\u7a0b\u66f4\u65b0\u5668\u4e0d\u9075\u5faa\u5728\u76f8\u5e94IDE\u4e2d\u8bbe\u7f6e\u7684\u81ea\u5b9a\u4e49\u6587\u4ef6\u7ea7\u522b\u4f18\u5316\u3002"),(0,a.kt)("h3",g({},{id:"textarea-and-chromart-dma2d"}),"TextArea\u548cChromART\uff08DMA2D\uff09"),(0,a.kt)("p",null,"\u7528ChromART\u6e32\u67d3TextAreas\uff08\u5f53TextArea\u662f\u6700\u9876\u7aef\u7684\u5143\u7d20/\u6700\u540e\u8fdb\u884c\u7ed8\u5236\u65f6\uff09\u5bfc\u81f4\u5e27\u7f13\u51b2\u533a\u63d0\u524d\u89e3\u9501\uff0c\u7ee7\u800c\u5bfc\u81f4\u5f53\u524d\u5e27\u63d0\u524d\u5b8c\u6210/\u4f20\u8f93\u5230\u663e\u793a\u5668\u3002 \u5728TouchGFX\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"endFrame()"),"\u540e\uff0c\u6240\u6709\u7ed8\u5236\u64cd\u4f5c\uff08\u5305\u62ecDMA\u64cd\u4f5c\uff09\u5e94\u5df2\u5b8c\u6210\u3002 \u7531\u4e8eTextArea\u5728\u5982\u4f55\u6070\u5f53\u5730\u4fdd\u62a4\u5e27\u7f13\u51b2\u533a\u65b9\u9762\u8fdd\u53cd\u8be5\u7ea6\u5b9a\uff0c\u5373\u4f7f\u4ece",(0,a.kt)("inlineCode",{parentName:"p"},"endFrame()"),"\u8fd4\u56de\u540e\uff0c\u4ecd\u7136\u5141\u8bb8DMA\u64cd\u4f5c\u7ee7\u7eed\u3002"),(0,a.kt)("p",null,"\u63a7\u4ef6\u7684\u7ea6\u5b9a\u4e3a\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u9501\u5b9a\u5e27\u7f13\u51b2\uff08\u8fd4\u56de\u6307\u5411\u5e27\u7f13\u51b2\u7684\u6307\u9488\uff09\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5728\u5e27\u7f13\u51b2\u4e2d\u7ed8\u5236\u4e00\u4e9b\u5185\u5bb9\u3002\xa0"),(0,a.kt)("li",{parentName:"ol"},"\u89e3\u9501\u5e27\u7f13\u51b2\u533a\u3002")),(0,a.kt)("p",null,"\u6216\u8005\uff0c\u4f7f\u7528DMA\u64cd\u4f5c\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c06\u81ea\u52a8\u5904\u7406\u5e27\u7f13\u51b2\u7684\u540c\u6b65\u3002"),(0,a.kt)("p",null,"\u5728\u7248\u672c4.10.0\u4e2d\uff0c\u5982\u679c\u662f\u5f53\u524d\u5c4f\u5e55\u6700\u9876\u7aef\u7684\u5143\u7d20\uff08\u6700\u540e\u8fdb\u884c\u7ed8\u5236\uff09\uff0cTextArea\u5c06\u4e24\u4e2a\u6d41\u7a0b\u6df7\u5408\u53ef\u80fd\u5bfc\u81f4\u77ed\u65f6\u95f4\u7684\u6545\u969c\u3002 \u8be5\u95ee\u9898\u53ef\u901a\u8fc7\u7528\u4e0b\u5217",(0,a.kt)("inlineCode",{parentName:"p"},"endFrame()"),"\u91cd\u5199\u624b\u5de5\u4fdd\u62a4",(0,a.kt)("inlineCode",{parentName:"p"},"endFrame()"),"\u6765\u4fee\u6b63\uff08\u57fa\u4e8eF4 HAL\uff09\u3002 \u6b64\u4e3e\u786e\u4fdd\u5982\u679cChromART\u64cd\u4f5c\u4ecd\u5728\u8fdb\u884c\u65f6",(0,a.kt)("inlineCode",{parentName:"p"},"endFrame()"),"\u4e0d\u8fd4\u56de\u3002\xa0\xa0"),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-cpp"}),"void STM32F4HAL::endFrame()\n{\n    if (dma.isDMARunning())\n    {\n        OSWrappers::tryTakeFrameBufferSemaphore();\n    }\n    HAL::endFrame();\n}\n")),(0,a.kt)("h2",g({},{id:"touchgfx-490"}),"TouchGFX 4.9.0"),(0,a.kt)("h3",g({},{id:"upgrading-from-480"}),"\u4ece4.8.0\u5347\u7ea7"),(0,a.kt)("p",null,"\u968f\u7740\u5e94\u7528\u6a21\u677f\uff08\u4ece\u5b9e\u8d28\u4e0a\u5c06\u677f\u652f\u6301\u5305\u4e0e\u6838\u5fc3\u6846\u67b6\u5206\u79bb\u5f00\u6765\uff09\u7684\u5f15\u5165\uff0c\u6211\u4eec\u5728\u7248\u672c4.9.0\u7684",(0,a.kt)("em",{parentName:"p"},"touchgfx"),"\u6587\u4ef6\u5939\u4e2d\u5220\u9664\u4e86\u8bb8\u591a\u5e95\u5c42\u9a71\u52a8\u548c\u5176\u4ed6\u6587\u4ef6\u3002 \u8fd9\u4e9b\u6587\u4ef6\u73b0\u5728\u7531\u5e94\u7528\u6a21\u677f\u63d0\u4f9b\u3002 \u4f46\u662f\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u60a8\u4e0d\u80fd\u901a\u8fc7\u4ec5\u4ec5\u66ff\u6362touchgfx\u6587\u4ef6\u5939\u6765\u5347\u7ea7\u52304.9.0\uff0c\u90a3\u6837\u505a\u4f1a\u5bfc\u81f4\u4e00\u4e9bBSP\u6587\u4ef6\u7f3a\u5931\u3002 \u53cd\u4e4b\uff0cTouchGFX Designer\u80fd\u591f\u81ea\u52a8\u6267\u884c\u5347\u7ea7\u3002 \u53ef\u901a\u8fc7\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u5347\u7ea7\uff0c\u60a8\u9700\u8981\u786e\u5b9a\u54ea\u79cd\u65b9\u5f0f\u662f\u9002\u5408\u3002"),(0,a.kt)(i.Z,{mdxType:"Caution"},"\u8bf7\u786e\u4fdd\u5347\u7ea7\u524d\u8fdb\u884c\u4e86\u5de5\u7a0b\u5907\u4efd\u3002"),(0,a.kt)("h3",g({},{id:"method-1-retain-original-file-structure"}),"\u65b9\u6cd51\uff1a\u4fdd\u7559\u539f\u59cb\u6587\u4ef6\u7ed3\u6784"),(0,a.kt)("p",null,"\u4f7f\u7528\u8be5\u65b9\u6cd5\uff0c\u53ea\u9700\u5728\u65b0\u7684TouchGFX Designer 4.9.0\u4e2d\u6253\u5f00\u5de5\u7a0b\u3002 TouchGFX Designer\u5c06\u63d0\u793a\u60a8\u662f\u5426\u8981\u5347\u7ea7\uff0c\u5728\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u540e\uff0cTouchGFX Designer\u5c06\u8fdb\u884c\u5fc5\u8981\u7684\u4fee\u6539\u3002 TouchGFX Designer\u5c06\u6267\u884c\u4e0b\u5217\u64cd\u4f5c\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5c06\u65b0\u7684\u538b\u7f29\u8fc7\u7684touchgfx\u6587\u4ef6\u5939\u89e3\u538b\u5230\u5e94\u7528\u4e2d\uff0c\u5e76\u4fee\u6539TouchGFX\u8def\u5f84\u4ee5\u4e0e\u4e4b\u5339\u914d\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u4e0b\u8f7d\u5e76\u89e3\u538b\u6240\u6709\u5df2\u4ecetouchgfx\u6587\u4ef6\u5939\u4e2d\u5220\u9664\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u60a8\u7684\u5de5\u7a0b\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u3002")),(0,a.kt)("p",null,"\u6b64\u65b9\u6cd5\u51e0\u4e4e\u4f1a\u8ba9\u4e00\u5207\u4fdd\u6301\u539f\u6837\uff0c\u5982\u679c\u539f\u6709\u6587\u4ef6\u7ed3\u6784\u9002\u5408\u60a8\u7684\u5de5\u7a0b\uff0c\u5219\u8fd9\u662f\u6700\u8f7b\u677e\u7684\u9009\u62e9\u3002 \u6b64\u65b9\u6cd5\u7684\u4e3b\u8981\u7f3a\u70b9\u662f\u4e0d\u4f1a\u6709\u56fe\u50cf\u8f6c\u6362\u5668\u52a0\u901f\uff08\u901a\u8fc7\u64cd\u4f5c\u56fe\u50cf\u6587\u4ef6\u5939\u800c\u4e0d\u662f\u5355\u4e2a\u6587\u4ef6\uff09\u3002 \u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u624b\u52a8\u4fee\u6539makefile\uff0c\u4ee5\u4fbf\u4f7f\u7528\u6b64\u65b9\u6cd5\u3002"),(0,a.kt)("h3",g({},{id:"method-2-import-into-new-template"}),"\u65b9\u6cd52\uff1a\u5bfc\u5165\u5230\u65b0\u7684\u6a21\u677f"),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u5c06\u5de5\u7a0b\u8f6c\u6362\u5230\u57fa\u4e8e\u65b0\u6a21\u677f\u7684\u6587\u4ef6\u7ed3\u6784\u4e2d\u3002 \u4e3a\u6b64\uff0c\u60a8\u5fc5\u987b\u9996\u5148\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u6cd51\u8ba9Designer\u5347\u7ea7\u5de5\u7a0b\u3002 \u7136\u540e\uff0c\u4f7f\u7528\u5408\u9002\u7684\u5e94\u7528\u6a21\u677f\uff08\u6a21\u62df\u5668\u6216\u4e0e\u60a8\u7684\u8bc4\u4f30\u677f\u5339\u914d\u7684\u5e94\u7528\u6a21\u677f\uff09\u65b0\u5efa\u5de5\u7a0b\u3002 \u5728Designer\u4e2d\u6253\u5f00\u6b64\u65b0\u5de5\u7a0b\u540e\uff0c\u8f6c\u81f3\u9876\u90e8\u83dc\u5355\u5e76\u70b9\u51fb\u201c\u7f16\u8f91->\u5bfc\u5165GUI\u201d\u3002 \u5728\u5bf9\u8bdd\u6846\u4e2d\u6307\u5b9a\u5de5\u7a0b\u7684.touchgfx\u6587\u4ef6\u3002 Designer\u4f1a\u81ea\u52a8\u5c06\u6240\u6709UI\u6587\u4ef6\uff08\u5305\u62ec\u8d44\u6e90\uff09\u5bfc\u5165\u65b0\u5efa\u7684\u5de5\u7a0b\u3002 \u5982\u679c\u60a8\u5728gui\u6587\u4ef6\u5939\u4e4b\u5916\u589e\u52a0\u4e86\u989d\u5916\u7684\u4ee3\u7801\uff0c\u60a8\u9700\u8981\u5c06\u8fd9\u4e9b\u6587\u4ef6\u624b\u52a8\u590d\u5236\u5230\u65b0\u5de5\u7a0b\u3002"),(0,a.kt)("h3",g({},{id:"method-3-manual-upgrade-without-designer"}),"\u65b9\u6cd53\uff1a\u624b\u5de5\u5347\u7ea7\uff08\u65e0TouchGFX Designer\uff09"),(0,a.kt)("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528TouchGFX Designer\uff0c\u60a8\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\u8fdb\u884c\u5347\u7ea7\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7528\u7248\u672c4.9.0\u7684\u5b89\u88c5\u6587\u4ef6\u5939\u4e2d\u7684touchgfx\u6587\u4ef6\u5939\u66ff\u6362\u60a8\u5de5\u7a0b\u4e2d\u4f7f\u7528\u7684touchgfx\u6587\u4ef6\u5939\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u4e0b\u8f7d",(0,a.kt)("a",g({parentName:"li"},{href:"http://ftp.draupnergraphics.com/TouchGFX/Evaluation/4.9.0/Qll3iKK54AnJer7XRNm2/fw_delta_4.8.0_4.9.0.zip"}),"\u672czip"),"\u6587\u4ef6\u5e76\u5c06\u5176\u89e3\u538b\u5230touchgfx\u6587\u4ef6\u5939\uff0c\u6062\u590d\u5220\u9664\u7684\u6587\u4ef6\u3002")))}w.isMDXComponent=!0}}]);